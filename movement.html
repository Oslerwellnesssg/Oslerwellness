
<!-- movement.html -->
<!DOCTYPE html>
<html>
<head>
  <title>Movement Report</title>
  <script>
    async function loadMovements() {
      const res = await fetch("/.netlify/functions/get_movements");
      const data = await res.json();
      const table = document.getElementById("movements");
      table.innerHTML = data.map(row => `
        <tr>
          <td>${row.ts}</td>
          <td><a href="https://plato-osler.platomedical.com/patients/${row.patient_id}" target="_blank">${row.patient_id}</a></td>
          <td>${row.name}</td>
          <td>${row.qty}</td>
          <td>${row.price}</td>
          <td>${row.loc}</td>
        </tr>`).join("");
    }
    window.onload = loadMovements;
  </script>
</head>
<body>
  <button onclick="window.history.back()">‚Üê Back</button>
  <h1>Movement Report</h1>
  <table border="1" id="movements"><tr><th>Date</th><th>Patient</th><th>Product</th><th>Qty</th><th>Price</th><th>Location</th></tr></table>
</body>
</html>
